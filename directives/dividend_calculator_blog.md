# Directive: 미국 주식 배당 계산기 및 수익형 블로그 자동화 시스템

이 지침서는 미국 주식 배당 시스템을 분석하고, 이를 바탕으로 수익형 블로그 콘텐츠를 자동으로 생성하는 표준 운영 절차(SOP)를 정의합니다.

## 1. 개요 (Goal)
사용자가 입력한 티커(Ticker)를 기반으로 배당 수익률, 배당 성장성, 복리 효과를 계산하고, 이를 독자가 이해하기 쉬운 블로그 포스팅 형태로 출력하는 프로세스를 자동화합니다.

## 2. 입력 데이터 (Inputs)
- **대상 티커**: 분석할 미국 주식 티커 (예: SCHD, O, AAPL)
- **투자 시나리오**: 초기 투자 금액, 월별 추가 적립액, 투자 기간 (기본값: 10년)
- **대상 플랫폼**: 블로그 포맷 (Markdown, HTML 또는 Tistory/WordPress API)

## 3. 실행 도구 (Execution Scripts)
본 시스템은 `execution/` 폴더 내의 다음 Python 스크립트들을 순차적으로 호출합니다.

1.  **`fetch_stock_data.py`**
    - 역할: Yahoo Finance 또는 Alpaca API를 사용하여 주가, 배당금 내역, 배당 성장률 데이터를 수집합니다.
    - 출력: `.tmp/{ticker}_raw_data.json`
2.  **`calculate_dividends.py`**
    - 역할: 수집된 데이터를 바탕으로 연간 예상 배당금, 세후 수익, 복리 재투자 시뮬레이션을 수행합니다.
    - 출력: `.tmp/{ticker}_analysis.json`
3.  **`generate_blog_post.py`**
    - 역할: 분석 데이터를 템플릿에 주입하여 SEO 최적화된 블로그 글을 생성합니다.
    - 출력: `.tmp/{ticker}_blog_post.md`

## 4. 작업 절차 (Steps)
1.  **데이터 수집**: 입력받은 티커에 대해 배당락일, 배당 지급기표, 최근 5년 배당 성장률을 확인합니다.
2.  **시뮬레이션**: 배당 재투자(DRIP) 여부에 따른 자산 성장 곡선을 계산합니다.
3.  **콘텐츠 구성**:
    - 제목: [티커] 배당금으로 월 N만원 만들기 시나리오
    - 서론: 해당 종목의 배당 매력도 요약
    - 본론: 배당 지표 분석표, 투자 시뮬레이션 그래프(필요시), 장단점 요약
    - 결론: 투자 시 유의사항 및 총평
4.  **최종 검토**: 수치 데이터의 오류 여부를 확인하고 .tmp 폴더에 저장합니다.

## 5. 예외 및 주의사항 (Edge Cases)
- **데이터 부재**: 배당을 지급하지 않는 종목(예: TSLA 초기 등)인 경우 분석을 중단하고 사용자에게 알림.
- **API 제한**: 무료 API 사용 시 호출 간격(Rate Limit)을 준수하도록 스크립트 설계.
- **최신성**: 데이터 수집 시점의 날짜를 명시하여 정보의 유효성을 독자에게 전달.

## 6. 결과물 (Outputs)
- **중간 데이터**: `.tmp/` 폴더의 JSON 파일들
- **최종 인도물**: `.tmp/` 폴더에 생성된 Markdown 포스팅 파일
