<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StockWise | ìš°ëŸ‰ ë°°ë‹¹ì£¼ ë“±ê¸‰í‘œ</title>
    <link rel="stylesheet" href="../css/style.css">
</head>

<body>
    <div class="container">
        <header>
            <a href="/ko/" class="logo">StockWise.ai</a>
            <nav class="lang-selector">
                <a href="/ko/list.html" class="lang-link active">KO</a>
                <a href="/list.html" class="lang-link">EN</a>
                <a href="/pt/list.html" class="lang-link">PT</a>
            </nav>
        </header>
        
        <!-- Google AdSense - Header Banner -->
        <div class="ad-slot">
            <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
                data-ad-slot="XXXXXXXXXX" data-ad-format="horizontal" data-full-width-responsive="true"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
        <main>
            <section class="card">
                <h2>ğŸ† í”„ë¦¬ë¯¸ì—„ ë°°ë‹¹ì£¼ ì¸ì‚¬ì´íŠ¸</h2>
                <p style="color: var(--text-secondary); margin-bottom: 2rem;">
                    ë…ìì ì¸ ë“±ê¸‰ ì‹œìŠ¤í…œìœ¼ë¡œ ë¶„ì„í•œ 50ê°œ ì´ìƒì˜ ìš°ëŸ‰ ë°°ë‹¹ì£¼ ëª©ë¡ì…ë‹ˆë‹¤.
                </p>

                <!-- Controls -->
                <div style="display: flex; gap: 1rem; margin-bottom: 1.5rem; flex-wrap: wrap;">
                    <input type="text" id="searchBox" placeholder="í‹°ì»¤ ë˜ëŠ” íšŒì‚¬ëª… ê²€ìƒ‰..."
                        style="flex: 1; min-width: 200px; padding: 0.75rem; border: 1px solid #333; background: #1a1a1a; color: white; border-radius: 8px;">
                    <select id="gradeFilter"
                        style="padding: 0.75rem; border: 1px solid #333; background: #1a1a1a; color: white; border-radius: 8px;">
                        <option value="all">ëª¨ë“  ë“±ê¸‰</option>
                        <option value="Së“±ê¸‰">Së“±ê¸‰ (ìµœìš°ìˆ˜)</option>
                        <option value="Aë“±ê¸‰">Aë“±ê¸‰ (ìš°ìˆ˜)</option>
                        <option value="Bë“±ê¸‰">Bë“±ê¸‰ (ì–‘í˜¸)</option>
                        <option value="Cë“±ê¸‰">Cë“±ê¸‰ (ë³´í†µ)</option>
                    </select>
                    <select id="sortBy"
                        style="padding: 0.75rem; border: 1px solid #333; background: #1a1a1a; color: white; border-radius: 8px;">
                        <option value="yield">ë°°ë‹¹ë¥ ìˆœ ì •ë ¬</option>
                        <option value="ticker">í‹°ì»¤ìˆœ ì •ë ¬</option>
                        <option value="grade">ë“±ê¸‰ìˆœ ì •ë ¬</option>
                    </select>
                </div>

                <div style="overflow-x: auto;">
                    <table id="dividendTable"
                        style="width: 100%; border-collapse: collapse; margin-top: 1rem; background: #1a1a1a; border-radius: 12px; overflow: hidden;">
                        <thead style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                            <tr style="color: white; text-align: left;">
                                <th style="padding: 1rem;">í‹°ì»¤</th>
                                <th style="padding: 1rem;">ì¢…ëª©ëª…</th>
                                <th style="padding: 1rem; text-align: right;">ë°°ë‹¹ë¥ </th>
                                <th style="padding: 1rem; text-align: center;">ë“±ê¸‰</th>
                            </tr>
                        </thead>
                        <tbody id="dividendTableBody">
                            <tr>
                                <td colspan="4" style="padding: 2rem; text-align: center; color: #666;">
                                    ë°°ë‹¹ì£¼ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p id="stockCount" style="margin-top: 1rem; color: #666; font-size: 0.9rem; text-align: right;">
                    0ê°œ ì¢…ëª© í‘œì‹œ ì¤‘
                </p>
            </section>
        </main>
        
        <!-- Google AdSense - Footer Banner -->
        <div class="ad-slot" style="margin-top: 2rem;">
            <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
                data-ad-slot="XXXXXXXXXX" data-ad-format="auto" data-full-width-responsive="true"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
        <footer>
            <div class="footer-content">
                <p>&copy; 2026 StockWise.ai - ìŠ¤ë§ˆíŠ¸ ë°°ë‹¹ íˆ¬ì</p>
                <div class="legal-disclaimer">
                    <h4 style="margin-bottom: 0.5rem; font-size: 0.9rem;">âš ï¸ Legal Disclaimer / ë²•ì  ê³ ì§€</h4>
                    <p style="font-size: 0.85rem; line-height: 1.6;">
                        <strong>ë³¸ ì‚¬ì´íŠ¸ì˜ ëª¨ë“  ì •ë³´ëŠ” ì •ë³´ ì œê³µ ë° êµìœ¡ ëª©ì ì´ë©°, íˆ¬ì ìë¬¸ ë˜ëŠ” íˆ¬ì ê¶Œìœ ê°€ ì•„ë‹™ë‹ˆë‹¤.</strong><br>
                        ë°°ë‹¹ê¸ˆ ë° ë°°ë‹¹ë¥ ì€ ë³€ë™ë  ìˆ˜ ìˆìœ¼ë©° ë³´ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br>
                        ê³¼ê±°ì˜ ì„±ê³¼ê°€ ë¯¸ë˜ì˜ ìˆ˜ìµì„ ë³´ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br>
                        ë³¸ ì‚¬ì´íŠ¸ì˜ ì •ë³´ë¥¼ ì´ìš©í•œ íˆ¬ì ê²°ê³¼ì— ëŒ€í•´ ì±…ì„ì„ ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.
                    </p>
                </div>
            </div>
        </footer>
    </div>

    <!-- Script to load Dividend Insights -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            let dividendData = [];

            // DOM Elements
            const tableBody = document.getElementById('dividendTableBody');
            const searchBox = document.getElementById('searchBox');
            const gradeFilter = document.getElementById('gradeFilter');
            const sortBy = document.getElementById('sortBy');
            const stockCount = document.getElementById('stockCount');

            // Grade Badge Component
            const getGradeBadge = (grade) => {
                const colors = {
                    'Së“±ê¸‰': 'background: linear-gradient(135deg, #FFD700 0%, #FDB931 100%); color: black; box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);',
                    'Aë“±ê¸‰': 'background: #10B981; color: white;',
                    'Bë“±ê¸‰': 'background: #3B82F6; color: white;',
                    'Cë“±ê¸‰': 'background: #6B7280; color: white;'
                };
                const style = colors[grade] || 'background: #6B7280; color: white;';
                return `<span style="padding: 4px 12px; border-radius: 20px; font-weight: bold; font-size: 0.85rem; ${style}">${grade}</span>`;
            };

            // Render Table
            const renderTable = (data) => {
                tableBody.innerHTML = '';

                if (data.length === 0) {
                    tableBody.innerHTML = `<tr><td colspan="4" style="padding: 2rem; text-align: center; color: #666;">ì¡°ê±´ì— ë§ëŠ” ì¢…ëª©ì´ ì—†ìŠµë‹ˆë‹¤.</td></tr>`;
                    stockCount.textContent = `0ê°œ ì¢…ëª© í‘œì‹œ ì¤‘`;
                    return;
                }

                data.forEach(stock => {
                    const row = document.createElement('tr');
                    row.style.borderBottom = '1px solid #333';
                    row.innerHTML = `
                        <td style="padding: 1rem; font-weight: bold; color: #fff;">${stock.ticker}</td>
                        <td style="padding: 1rem; color: #ccc;">${stock.name}</td>
                        <td style="padding: 1rem; text-align: right; color: #4ADE80; font-weight: bold;">${stock.dividend_yield}%</td>
                        <td style="padding: 1rem; text-align: center;">${getGradeBadge(stock.grade)}</td>
                    `;
                    tableBody.appendChild(row);
                });

                stockCount.textContent = `${data.length}ê°œ ì¢…ëª© í‘œì‹œ ì¤‘`;
            };

            // Filter and Sort Logic
            const filterAndSort = () => {
                const searchTerm = searchBox.value.toLowerCase();
                const gradeTerm = gradeFilter.value;
                const sortType = sortBy.value;

                let filtered = dividendData.filter(stock => {
                    const matchesSearch = stock.ticker.toLowerCase().includes(searchTerm) ||
                        stock.name.toLowerCase().includes(searchTerm);
                    const matchesGrade = gradeTerm === 'all' || stock.grade === gradeTerm;
                    return matchesSearch && matchesGrade;
                });

                filtered.sort((a, b) => {
                    if (sortType === 'yield') return b.dividend_yield - a.dividend_yield;
                    if (sortType === 'ticker') return a.ticker.localeCompare(b.ticker);
                    if (sortType === 'grade') {
                        const grades = { 'Së“±ê¸‰': 4, 'Aë“±ê¸‰': 3, 'Bë“±ê¸‰': 2, 'Cë“±ê¸‰': 1 };
                        return grades[b.grade] - grades[a.grade];
                    }
                });

                renderTable(filtered);
            };

            // Initial Load - Note parent directory path
            fetch('../dividend_insights.json')
                .then(response => response.json())
                .then(data => {
                    dividendData = data.stocks;
                    filterAndSort(); // Initial render
                })
                .catch(err => {
                    console.error('Error loading dividend data:', err);
                    tableBody.innerHTML = `<tr><td colspan="4" style="padding: 2rem; text-align: center; color: #ef4444;">ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.</td></tr>`;
                });

            // Event Listeners
            searchBox.addEventListener('input', filterAndSort);
            gradeFilter.addEventListener('change', filterAndSort);
            sortBy.addEventListener('change', filterAndSort);
        });
    </script>
</body>

</html>