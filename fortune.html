<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock Wise | Stock Gung-hap</title>
    <meta name="description"
        content="Check your compatibility with a stock! High-speed compatibility matching algorithm.">
    <link rel="stylesheet" href="css/style.css">
    <script>
        (function () {
            const userLang = navigator.language || navigator.userLanguage;
            const hasRedirected = sessionStorage.getItem('redirected');
            if (!hasRedirected) {
                sessionStorage.setItem('redirected', 'true');
                if (userLang.startsWith('ko')) {
                    window.location.href = '/ko' + window.location.pathname;
                } else if (userLang.startsWith('pt')) {
                    window.location.href = '/pt' + window.location.pathname;
                }
            }
        })();
    </script>
</head>

<body>
    <div class="container">
        <header>
            <div class="logo">StockWise.ai</div>
            <nav class="lang-selector">
                <a href="/ko/fortune.html" class="lang-link">KO</a>
                <a href="/fortune.html" class="lang-link active">EN</a>
                <a href="/pt/fortune.html" class="lang-link">PT</a>
            </nav>
        </header>

        <div class="ad-slot"></div>

        <main style="max-width: 800px; margin: 0 auto; text-align: center;">
            <section class="card fortune-card">
                <h2>Check Your Compatibility ðŸ’–</h2>
                <p style="color: var(--text-secondary); margin-bottom: 2rem;">Enter your name and a stock ticker to see
                    if you're a perfect match!</p>

                <div class="input-group">
                    <label for="userName">Your Name</label>
                    <input type="text" id="userName" placeholder="Enter your name">
                </div>
                <div class="input-group">
                    <label for="tickerName">Stock Ticker</label>
                    <input type="text" id="tickerName" placeholder="e.g. AAPL, SCHD, TSLA">
                </div>

                <button onclick="checkCompatibility()" class="btn-calculate">Reveal Our Destiny</button>

                <div id="result" class="result-display">
                    <div id="matchText" style="font-size: 1.25rem; font-weight: 600;">Calculating...</div>
                    <div id="score" class="score-value">0%</div>
                    <p id="comment" style="color: var(--text-secondary);"></p>
                </div>
            </section>
        </main>

        <div class="ad-slot"></div>

        <footer>
            <div class="footer-content">
                <p>&copy; 2026 StockWise.ai - Smart Dividend Investing</p>
                <p class="legal-disclaimer">This content is for informational purposes only and does not constitute
                    financial advice. Investment involves risk.</p>
            </div>
        </footer>
    </div>

    <script>
        function checkCompatibility() {
            const name = document.getElementById('userName').value.trim();
            const ticker = document.getElementById('tickerName').value.trim().toUpperCase();

            if (!name || !ticker) {
                alert("Please enter both your name and a ticker!");
                return;
            }

            const resultDiv = document.getElementById('result');
            const scoreDisplay = document.getElementById('score');
            const commentDisplay = document.getElementById('comment');
            const matchText = document.getElementById('matchText');

            // Simple hash-like algorithm for consistency
            let combined = name + ticker;
            let hash = 0;
            for (let i = 0; i < combined.length; i++) {
                hash = ((hash << 5) - hash) + combined.charCodeAt(i);
                hash |= 0;
            }

            let score = Math.abs(hash % 101);

            // Visual feedback
            resultDiv.style.display = 'block';
            matchText.innerText = `${name} + ${ticker}`;
            scoreDisplay.innerText = `${score}%`;

            let comment = "";
            if (score >= 90) comment = "Perfect Match! ðŸ’– This stock might be your soulmate.";
            else if (score >= 70) comment = "Great Chemistry! ðŸ“ˆ A solid addition to your portfolio.";
            else if (score >= 50) comment = "Good Potential! ðŸ‘ Explore further for long-term growth.";
            else if (score >= 30) comment = "It's Complicated... ðŸ˜… Proceed with caution.";
            else comment = "Better as Friends. ðŸ“‰ Maybe look for other opportunities.";

            commentDisplay.innerText = comment;
        }
    </script>
</body>

</html>